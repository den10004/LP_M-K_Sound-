import"./metrika-daLlNsB4.js";window.addEventListener("vite:preloadError",e=>{window.reload()});document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(n){n.preventDefault();const t=document.querySelector(this.getAttribute("href"));if(!t)return;const a=t.offsetTop;window.scrollTo({top:a,behavior:"smooth"})})});const w=document.querySelectorAll(".cons-open"),g=document.querySelectorAll(".compilationOpenModal"),S=document.querySelector(".openChoiceModal"),_=document.querySelectorAll(".closeAllModal"),h=document.querySelectorAll(".popup"),f=document.querySelector(".popup-choice"),y=document.querySelector(".popup-consultation"),v=document.querySelector(".popup-compilation");document.body.addEventListener("keydown",function(e){e.key=="Escape"&&m()});function m(){h.forEach(e=>e.style.display="none"),document.body.style.overflow=""}function I(){y.style.display="block"}function E(){f.style.display="block"}function P(e){v.style.display="block";const n=document.querySelector(".modal-title"),t=document.getElementById("titleHiddenConmpilation");t.value=e,n.textContent=`Отправьте заявку и получите подборку акустики для ${e}`}_.forEach(e=>e.addEventListener("click",function(n){m()}));w.forEach(e=>e.addEventListener("click",function(n){const t=n.target.parentNode.parentNode.previousElementSibling.innerHTML,a=document.getElementById("titleHiddenConsultation");a.value=t,I()}));g.forEach(e=>e.addEventListener("click",function(n){const t=n.target.dataset.title;P(t)}));S.addEventListener("click",E);document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("consultForm");c(e)});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("compilationForm");c(e)});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("choiceForm");c(e)});document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("helpForm");c(e)});document.addEventListener("DOMContentLoaded",function(){const e=new URL(window.location.href);localStorage.setItem("utm_source",e.searchParams.get("utm_source")),localStorage.setItem("utm_medium",e.searchParams.get("utm_medium")),localStorage.setItem("utm_campaign",e.searchParams.get("utm_campaign")),localStorage.setItem("utm_campaign_name",e.searchParams.get("utm_campaign_name")),localStorage.setItem("utm_content",e.searchParams.get("utm_content")),localStorage.setItem("utm_term",e.searchParams.get("utm_term")),localStorage.setItem("utm_placement",e.searchParams.get("utm_placement")),localStorage.setItem("utm_device",e.searchParams.get("utm_device")),localStorage.setItem("utm_region_name",e.searchParams.get("utm_region_name")),localStorage.setItem("utm_position",e.searchParams.get("utm_position")),localStorage.setItem("utm_position_type",e.searchParams.get("utm_position_type")),localStorage.setItem("utm_source_type",e.searchParams.get("utm_source_type")),localStorage.setItem("yclid",e.searchParams.get("yclid"))});function c(e){e.addEventListener("submit",async function(n){n.preventDefault();try{const t=new FormData(e);let a={};t.append("utm_source",localStorage.getItem("utm_source")),t.append("utm_medium",localStorage.getItem("utm_medium")),t.append("utm_campaign",localStorage.getItem("utm_campaign")),t.append("utm_campaign_name",localStorage.getItem("utm_campaign_name")),t.append("utm_content",localStorage.getItem("utm_content")),t.append("utm_term",localStorage.getItem("utm_term")),t.append("utm_placement",localStorage.getItem("utm_placement")),t.append("utm_device",localStorage.getItem("utm_device")),t.append("utm_region_name",localStorage.getItem("utm_region_name")),t.append("utm_position",localStorage.getItem("utm_position")),t.append("utm_position_type",localStorage.getItem("utm_position_type")),t.append("utm_source_type",localStorage.getItem("utm_source_type")),t.append("yclid",localStorage.getItem("yclid"));const o=await fetch("sendforms.php",{method:"POST",body:t});if(t.forEach((r,l)=>a[l]=r),localStorage.setItem("name",a.name),console.log(a),!o.ok)throw new Error(`Network response was not ok: ${o.status}`);m(),window.location.href="/thanks.html"}catch(t){console.error("Произошла ошибка при отправке формы.",t),alert("Произошла ошибка при отправке формы.",t)}})}var M=new Swiper(".mySwiper",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper2",{spaceBetween:10,thumbs:{swiper:M},pagination:{el:".swiper-pagination"}});var b=new Swiper(".mySwiper3",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper4",{spaceBetween:10,thumbs:{swiper:b},pagination:{el:".swiper-pagination"}});var B=new Swiper(".mySwiper5",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper6",{spaceBetween:10,thumbs:{swiper:B},pagination:{el:".swiper-pagination"}});var L=new Swiper(".mySwiper7",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper8",{spaceBetween:10,thumbs:{swiper:L},pagination:{el:".swiper-pagination"}});var C=new Swiper(".mySwiper9",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper10",{spaceBetween:10,thumbs:{swiper:C},pagination:{el:".swiper-pagination"}});var k=new Swiper(".mySwiper11",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper12",{spaceBetween:10,thumbs:{swiper:k},pagination:{el:".swiper-pagination"}});var D=new Swiper(".mySwiper13",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper14",{spaceBetween:10,thumbs:{swiper:D},pagination:{el:".swiper-pagination"}});var q=new Swiper(".mySwiper15",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper16",{spaceBetween:10,thumbs:{swiper:q},pagination:{el:".swiper-pagination"}});var A=new Swiper(".mySwiper17",{spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0});new Swiper(".mySwiper18",{spaceBetween:10,thumbs:{swiper:A},pagination:{el:".swiper-pagination"}});document.addEventListener("DOMContentLoaded",function(){let e=!0,n=function(o){let r=o.target,l=r.dataset.phoneClear,p="+7 (___) ___-__-__",s=0,u=p.replace(/\D/g,""),i=o.target.value.replace(/\D/g,"");if(l!=="false"&&o.type==="blur"&&i.length<p.match(/([\_\d])/g).length){o.target.value="";return}u.length>=i.length&&(i=u),o.target.value=p.replace(/./g,function(d){return/[_\d]/.test(d)&&s<i.length?i.charAt(s++):s>=i.length?"":d}),e&&s==2&&o.target.value=="+7 (8"&&(o.target.value="+7 (",e=!1)};const t=async function(o){o.preventDefault();let r=await navigator.clipboard.readText();if(r[0]=="8"){o.target.value="7"+r.substring(1);return}o.target.value=r};let a=document.querySelectorAll("input[type=tel]");for(let o of a){o.addEventListener("paste",t);for(let r of["input","blur","focus"])o.addEventListener(r,n)}});
